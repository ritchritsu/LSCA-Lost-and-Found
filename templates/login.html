{% extends "layout.html" %}

{% block title %}
    Log In
{% endblock %}

{% block main %}
<div class="container mt-4 d-flex justify-content-center">
    <div class="col-md-6">
        <h3 class="text-light text-center">Log In</h3>
        <form action="/login" method="post" onsubmit="return validateLoginForm()">
            <div class="mb-3">
                <input autocomplete="off" autofocus class="form-control custom-input w-75 mx-auto" id="login-email" name="email" placeholder="School Email" type="email" required>
                <div class="invalid-feedback" id="login-email-error">Please enter a valid email address</div>
            </div>
            <div class="mb-3">
                <input class="form-control custom-input w-75 mx-auto" id="login-password" name="password" placeholder="Password" type="password" required>
                <div class="invalid-feedback" id="login-password-error">Please enter your password</div>
            </div>
            <button class="btn custom-green-btn w-50 mx-auto d-block" type="submit">Log In</button>
        </form>
    </div>
</div>

<style>
    .custom-input {
        background-color: transparent;
        border: none;
        border-bottom: 2px solid #ffffff;
        color: #ffffff; /* White text */
        transition: color 0.2s ease-in-out, border-bottom-color 0.2s ease-in-out;
    }

    .custom-input::placeholder {
        color: #ffffff; /* White placeholder text */
        opacity: 0.7; /* Slightly transparent */
    }

    .custom-input:focus {
        background-color: transparent;
        border-bottom: 2px solid #087830;
        box-shadow: none;
        color: wheite;
    }

    .custom-input:hover {
        color: #ffffff; /* Green text on hover */
        border-bottom-color: #087830; /* Green underline on hover */
    }

    .custom-green-btn {
        background-color: #036631;
        border-color: #036631;
        color: white;
        transition: transform 0.2s ease-in-out, background-color 0.2s ease-in-out;
    }

    .custom-green-btn:hover {
        background-color: #065a2b;
        border-color: #065a2b;
        transform: scale(1.05); /* Slightly increase size */
    }

    .custom-green-btn:active {
        transform: scale(1.1); /* Slightly increase size when clicked */
    }

    .text-light {
        color: #ffffff !important; /* Ensure text is white */
    }

    .custom-nav-link {
  color: #ffffff !important;
  position: relative;
  text-decoration: none;
  transition: color 0.2s ease-in-out;
}

.custom-nav-link::after {
  content: '';
  position: absolute;
  width: 0;
  height: 2px;
  display: block;
  margin-top: 5px;
  right: 0;
  background: #ffffff;
  transition: width 0.2s ease-in-out;
  -webkit-transition: width 0.2s ease-in-out;
}

.custom-nav-link:hover::after {
  width: 100%;
  left: 0;
  background: #ffffff;
}

.custom-nav-link:hover {
  color: #ffffff;
}

</style>

<script>
    function validateLoginForm() {
        // Email validation
        const email = document.getElementById("login-email").value;
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
            document.getElementById("login-email-error").style.display = "block";
            return false;
        } else {
            document.getElementById("login-email-error").style.display = "none";
        }

        // Password validation
        const password = document.getElementById("login-password").value;
        if (!password) {
            document.getElementById("login-password-error").style.display = "block";
            return false;
        } else {
            document.getElementById("login-password-error").style.display = "none";
        }

        return true; // Submit the form if all validations pass
    }
</script>
{% endblock %}